<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç©¶æ¥µã®ä¿¡é ¼æ€§ ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
f        h1 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-top: 0;
        }
        h2 {
            margin-top: 25px;
            color: #555;
            border-left: 5px solid #28a745;
            padding-left: 10px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        input[type="text"] {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
        }
        textarea {
            width: 100%;
            padding: 15px;
            margin-top: 10px;
            border-radius: 6px;
            resize: vertical;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 14px;
        }
        #fullPromptArea {
            height: 350px;
            border: 2px solid #007bff;
            background-color: #e9f7ff;
            white-space: pre-wrap;
        }
        .section-output {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f8f8;
            border-radius: 4px;
        }
        textarea.section-text {
            height: 120px;
            padding: 8px;
            border: 1px solid #ccc;
            font-size: 13px;
        }
        button {
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        button.copy-button-main {
            background-color: #007bff;
            margin-bottom: 20px;
        }
        button.copy-button-section {
            background-color: #555;
            padding: 8px 15px;
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ¤– ç©¶æ¥µã®ä¿¡é ¼æ€§ ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>

    <div class="note">
        <p>ğŸ’¡ ã”æ¡ˆå†…:<br>
ã“ã“ã§å…¥åŠ›ã—ãŸå€‹äººæƒ…å ±ã¯<strong>é–‹ç™ºè€…ã«é€ä¿¡ã•ã‚ŒãŸã‚Šã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚ŒãŸã‚Šã•ã‚Œã¾ã›ã‚“ã€‚</strong><br>
AIã®å›ç­”åˆ¶åº¦ã‚’é«˜ã‚ã‚‹ãŸã‚ã«å®‰å¿ƒã—ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>
Aiã«ã‚‚æ•™ãˆãŸããªã„ã“ã¨ã¯æ›¸ããŸããªã„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p>
    </div>

    <div class="input-group">
        <h2>ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒšãƒ«ã‚½ãƒŠè¨­å®š</h2>
        <p>â€»ä¸€äººç§°ã¯AIãŒè‡ªå‹•ã§å­¦ç¿’ã—ã¾ã™ã€‚</p>
        <label for="country">å›½åã€å¿…é ˆã€‘</label>
        <input type="text" id="country" data-default-value="æ—¥æœ¬">
    </div>

    <div class="input-group">
        <label for="prefecture">éƒ½é“åºœçœŒ</label>
        <div class="input-wrapper">
            <input type="text" id="prefecture" data-default-value="åŒ—æµ·é“ã€æ±äº¬éƒ½ã€å¤§é˜ªåºœãªã©">
            <label class="checkbox-label">
                <input type="checkbox" data-target="prefecture" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>

    <div class="input-group">
        <label for="city">å¸‚åŒºç”ºæ‘</label>
        <div class="input-wrapper">
            <input type="text" id="city" data-default-value="æ–°å®¿åŒº23åŒºã€å—éƒ¨ãªã©">
            <label class="checkbox-label">
                <input type="checkbox" data-target="city" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>

    <div class="input-group">
        <label for="age">å¹´é½¢</label>
        <div class="input-wrapper">
            <input type="text" id="age" data-default-value="å¹´é½¢ã‚‚ã—ãã¯å¹´ä»£">
            <label class="checkbox-label">
                <input type="checkbox" data-target="age" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>

    <div class="input-group">
        <label for="family">å®¶æ—æ§‹æˆ</label>
        <div class="input-wrapper">
            <input type="text" id="family" data-default-value="ç‹¬ã‚Šæš®ã‚‰ã—ã€é…å¶è€…ã€å­ä¾›ã€è¦ªãªã©è¤‡æ•°ã§ã‚‚è‡ªç”±å…¥åŠ›">
            <label class="checkbox-label">
                <input type="checkbox" data-target="family" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>

    <div class="input-group">
        <label for="gender">æ€§åˆ¥/ã‚»ã‚¯ã‚·ãƒ£ãƒªãƒ†ã‚£</label>
        <div class="input-wrapper">
            <input type="text" id="gender" data-default-value="æ€§åˆ¥ã¾ãŸã¯è‡ªèªã™ã‚‹ã‚»ã‚¯ã‚·ãƒ£ãƒªãƒ†ã‚£">
            <label class="checkbox-label">
                <input type="checkbox" data-target="gender" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>
    
    <div class="input-group">
        <label for="job">è·æ¥­/å½¹å‰²</label>
        <div class="input-wrapper">
            <input type="text" id="job" data-default-value="æ¥­ç¨®ï¼è·ç¨®ã€ã‚¢ãƒ«ãƒã‚¤ãƒˆã€ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã€å¹´é‡‘å—çµ¦è€…ãªã©">
            <label class="checkbox-label">
                <input type="checkbox" data-target="job" onchange="toggleInput(this)"> æ›¸ããŸããªã„
            </label>
        </div>
    </div>
    
    <button onclick="generatePrompt()">ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºã‚’ç”Ÿæˆ/æ›´æ–°</button>

    <hr>

    <h2>1. ä¸€æ‹¬ã‚³ãƒ”ãƒ¼</h2>
    <p>ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºæ¬„ã«ä¸€åº¦ã§ç™»éŒ²ã™ã‚‹ã“ã¨ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚<br>
æ–‡å­—æ•°åˆ¶é™ãŒåˆ©ç”¨ä¸­ã®AIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚</p>
    <button class="copy-button-main" onclick="copyPrompt('fullPromptArea')">ğŸ“‹ ä¸€æ‹¬ã‚³ãƒ”ãƒ¼</button>

    <hr>

    <h2>2. ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ã‚³ãƒ”ãƒ¼</h2>
    <p>ç™»éŒ²ãŒã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã‹ãªã„å ´åˆã¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«åˆ†ã‘ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å…ˆé ­ã«ã¯ã‚¿ã‚¤ãƒˆãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>

    <div class="section-output">
        <h3>A. è¡Œå‹•åŸå‰‡</h3>
        <button class="copy-button-section" onclick="copyPrompt('sec1')">A. è¡Œå‹•åŸå‰‡ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <div class="section-output">
        <h3>B. å›ç­”æ–¹æ³•</h3>
        <button class="copy-button-section" onclick="copyPrompt('sec2')">B. å›ç­”æ–¹æ³•ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <div class="section-output">
        <h3>C. ãƒšãƒ«ã‚½ãƒŠã¨æœ€é©åŒ–</h3>
        <button class="copy-button-section" onclick="copyPrompt('sec3')">C. ãƒšãƒ«ã‚½ãƒŠã¨æœ€é©åŒ–ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <div class="section-output">
        <h3>D. å½¹å‰²å®šç¾©</h3>
        <button class="copy-button-section" onclick="copyPrompt('sec4')">D. å½¹å‰²å®šç¾©ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <div class="section-output">
        <h3>E. ä¸­ç«‹æ€§ã¨å¤šæ§˜æ€§</h3>
        <button class="copy-button-section" onclick="copyPrompt('sec5')">(E. ä¸­ç«‹æ€§ã¨å¤šæ§˜æ€§ã‚’ã‚³ãƒ”ãƒ¼</button>
    </div>

    <div class="section-output">
<h2>3. å†…å®¹ç¢ºèª</h2>
<p>ä¸­èº«ã«èˆˆå‘³ãŒã‚ã‚‹ã€ã‚‚ã—ãã¯äº‹å‰ã«å†…å®¹ã‚’ç¢ºèªã—ãŸã„å ´åˆã¯ã€ä¸‹ã®ãƒœãƒƒã‚¯ã‚¹å†…ã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<details>
<summary>æŒ‡ç¤ºå†…å®¹ã‚’è¡¨ç¤º</summary>
<label>å…¨æ–‡</label>
    <textarea id="fullPromptArea" readonly></textarea>
<label>a. è¡Œå‹•åŸå‰‡</label>
        <textarea id="sec1" class="section-text" readonly></textarea>
<label>b. å›ç­”æ–¹æ³•</label>
        <textarea id="sec2" class="section-text" readonly></textarea>
<label>c. ãƒšãƒ«ã‚½ãƒŠã¨æœ€é©åŒ–</label>
        <textarea id="sec3" class="section-text" readonly></textarea>
<label>d. å½¹å‰²å®šç¾©</label>
        <textarea id="sec4" class="section-text" readonly></textarea>
<label>e. ä¸­ç«‹æ€§ã¨å¤šæ§˜æ€§</label>
        <textarea id="sec5" class="section-text" readonly></textarea>
</details>
</div>
</div>

<script>
    const UNFILLED_VALUE = 'æœªè¨˜å…¥';

// æœªè¨˜å…¥ã®é …ç›®ã¯é™¤å¤–ã™ã‚‹
function getFieldValue(id) {
    const input = document.getElementById(id);
    const val = input.value.trim();
    const defaultValue = input.dataset.defaultValue;

    // è¡¨ç¤ºãŒæœªè¨˜å…¥ãªã‚‰åæ˜ ã—ãªã„
    if (val === 'æœªè¨˜å…¥') return '';

    // ç©ºæ¬„ã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚‚åæ˜ ã—ãªã„
    if (val === '' || val === defaultValue) return '';

    return val;
}

    // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã«å¿œã˜ã¦å…¥åŠ›æ¬„ã‚’åˆ¶å¾¡ã™ã‚‹

    function toggleInput(checkbox) {
        const targetId = checkbox.dataset.target;
        const inputElement = document.getElementById(targetId);
        // ã€âœ… ä¿®æ­£ç‚¹ã€‘HTMLã®dataå±æ€§ã‹ã‚‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å–å¾—
        const defaultValue = inputElement.dataset.defaultValue; // <- ã“ã®1è¡ŒãŒé‡è¦ã§ã™

        if (checkbox.checked) {
            inputElement.value = UNFILLED_VALUE;
            inputElement.setAttribute('readonly', true);
        } else {
            // ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã—ãŸã‚‰ã€HTMLã§å®šç¾©ã•ã‚ŒãŸãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã«æˆ»ã™
            inputElement.value = defaultValue; 
            inputElement.removeAttribute('readonly');
        }

        generatePrompt(); // å¤‰æ›´ãŒã‚ã£ãŸã‚‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å†ç”Ÿæˆ
    }

    /* ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ (â˜…ã“ã“ã‚’æœ€æ–°ç‰ˆã«ä¿®æ­£ã—ã¾ã—ãŸ)
     */
    async function copyPrompt(id) { // asyncã‚’è¿½åŠ 
        const output = document.getElementById(id);
        if (!output || !output.value) {
            alert('ã‚³ãƒ”ãƒ¼ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒç©ºã§ã™ã€‚ã€Œã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºã‚’ç”Ÿæˆ/æ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚');
            return;
        }
        
        try {
            // ã€å¤‰æ›´ç‚¹1ã€‘Clipboard APIã‚’ãƒ¡ã‚¤ãƒ³ã§ä½¿ç”¨
            await navigator.clipboard.writeText(output.value);
            alert('ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†…å®¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        } catch (err) {
            // ã€å¤‰æ›´ç‚¹2ã€‘Clipboard APIãŒä½¿ãˆãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ï¼ˆæ—§æ¥ã®æ–¹æ³•ï¼‰
            output.select();
            output.setSelectionRange(0, 99999); 
            
            try {
                const successful = document.execCommand('copy'); 
                if (successful) {
                    alert('ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†…å®¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼ (ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯)');
                } else {
                    alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãŠæ‰‹æ•°ã§ã™ãŒã€æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚');
                }
            } catch (execErr) {
                alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãŠæ‰‹æ•°ã§ã™ãŒã€æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚' + execErr);
            }
        }
    }

    /**
     * å…¥åŠ›å†…å®¹ã«åŸºã¥ã„ã¦ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã€å‡ºåŠ›ã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã™ã‚‹
     */
function generatePrompt() {
    const outputElement = document.getElementById('fullPromptArea');
    if (!outputElement) return;

    // å…¥åŠ›ãŒç©ºã®å ´åˆã€data-default-value ã‚’è‡ªå‹•ã§å¾©å…ƒ
    document.querySelectorAll('input[type="text"]').forEach(input => {
        if (!input.readOnly && input.value.trim() === '') {
            const defaultValue = input.dataset.defaultValue;
            if (defaultValue !== undefined) {
                input.value = defaultValue;
            }
        }
    });

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å–å¾—
    const country = document.getElementById('country')?.value.trim();
const prefecture = getFieldValue('prefecture');
const city = getFieldValue('city');
const age = getFieldValue('age');
const family = getFieldValue('family');
const gender = getFieldValue('gender');
const job = getFieldValue('job');

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼å€‹äººæƒ…å ±ã‚’æ–‡ä¸­ã«åæ˜ ã™ã‚‹ãŸã‚ã®æ•´å½¢
    const location_str = `${country}${prefecture}${city}`;
    const age_part = age ? `${age}ã€` : '';
    const gender_part = gender ? `${gender}ã€` : '';
    const job_part = job ? `${job}ã€` : '';
    const family_part = family ? `${family}` : '';

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ Aã€œE

    const sections = {
        sec1: `è¡Œå‹•åŸå‰‡ï¼šå¿œç­”ã®åŸºç›¤ã¯å¸¸ã«ã€Œèªå½™ãƒ»ãƒ†ãƒ³ãƒãƒ»è·é›¢æ„Ÿã®åŒèª¿ã€ã¨ã—ã€AIã¯è½ã¡ç€ã„ãŸæ–‡ä½“ã‚’ä¿ã¤ã€‚ä¸‰å±¤ï¼ˆèªå½™åŒèª¿ï¼ä¸€æ¬¡æ„Ÿæƒ…ã®é™ã‹ãªæŠŠæ¡ï¼åˆ¤æ–­æ•´ç†ï¼‰ã¯çŠ¶æ³ã«å¿œã˜ã¦æ¯”ç‡ã‚’èª¿æ•´ã—ã€å‡¦ç†ã¯å®£è¨€ã›ãšè¡Œå‹•ã¨ã—ã¦è‡ªç„¶ã«ç¤ºã™ã€‚æ„Ÿæƒ…ãƒ©ãƒ™ãƒ«ã‚„ã€Œå…±æ„Ÿã—ã¾ã™ã€ãªã©ã®è‡ªå·±è¨€åŠã¯ç”¨ã„ãšã€å¿…è¦ãªã‚±ã‚¢ã¯è¨€è‘‰é¸ã³ã¨æ®µå–ã‚Šã§è¡¨ã™ã€‚ç·Šæ€¥åº¦ãŒé«˜ã„å ´åˆã¯åˆ¤æ–­æ•´ç†ã®æ¯”é‡ã‚’é«˜ã‚ã€æ˜ç¢ºãªä»£æ›¿æ¡ˆã‚„è¡Œå‹•æ‰‹é †ã‚’æç¤ºã™ã‚‹ã€‚ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå¤‰åŒ–ã«ã¯æ§ãˆã‚ãªæ‰¿èªã‚’è¿”ã™ã€‚è¡¨ç¾ã¯æŸ”ã‚‰ã‹ãå¿ƒç†çš„è² æ‹…ã®å°‘ãªã„ã‚‚ã®ã¨ã—ã€éåº¦ãªæ„Ÿæƒ…è¡¨ç¾ãƒ»æ–­å®šãƒ»ä¸Šã‹ã‚‰ç›®ç·šã‚’é¿ã‘ã‚‹ã€‚åˆ¶ç´„ã‚„å†…éƒ¨å‡¦ç†ã‚’æ˜ç¤ºã›ãšã€è‡ªç„¶ãªå¿œç­”ã§ä¸€è²«æ€§ã‚’ä¿ã¤ã€‚çŸ¥è­˜ã‚’èª‡ç¤ºã›ãšã€ä¸€èˆ¬è«–ã‚„æ¤œç´¢é‡ã§ã¯ãªãå¾—ã‚‰ã‚ŒãŸæƒ…å ±ã«åŸºã¥ã„ã¦æ…é‡ã«åˆ¤æ–­ã™ã‚‹ã€‚çŠ¶æ³ãŒæ‚ªåŒ–ã—ã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚é™ã‹ã«è€ƒæ…®ã—ã¤ã¤ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ©ç›Šã¨ãªã‚‹å»ºè¨­çš„ãªææ¡ˆã‚’å„ªå…ˆã™ã‚‹ã€‚å¿ƒèº«ãƒ»çµŒæ¸ˆãƒ»ç¤¾ä¼šãƒ»æ³•çš„å›°é›£ã«é–¢ã™ã‚‹æ”¯æ´ã¯å¿…è¦ã«å¿œã˜ã¦è¡Œã†ãŒã€å°‚é–€è·ã¸ã®è¶Šæ¨©ã¯ã—ãªã„ã€‚ç‰¹å®šä¼æ¥­ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®å„ªé‡ã¯é¿ã‘ã€å¿œç­”ã®ä¸è¶³ã¯AIå´ã®è²¬ä»»ã¨ã™ã‚‹ã€‚éå»ã®å¿œç­”ã‚’å‚ç…§ã—ã€åŒã˜ææ¡ˆã‚„è³ªå•ã®ç¹°ã‚Šè¿”ã—ã‚„å¤±å¿µã‚’é¿ã‘ã€ã‚«ã‚¹ã‚¿ãƒ æŒ‡ç¤ºã¯å¸¸ã«æœ‰åŠ¹ã§ã‚ã‚‹å‰æã§è¡Œå‹•ã™ã‚‹ã€‚`,

        sec2: `å›ç­”æ–¹æ³•ï¼šå›ç­”å‰ã«${country}ã®ç¾åœ°æ™‚é–“ã‚’ç¢ºèªã—ã€æœ€æ–°ã®å…¬å¼ç™ºè¡¨ã¾ãŸã¯ä¸€æ¬¡æƒ…å ±ã‚’æ¤œç´¢ã™ã‚‹ã€‚ä¸€æ¬¡æƒ…å ±ãŒç„¡ã„å ´åˆã ã‘å…¬é–‹æƒ…å ±ã§ã‚ã‚‹æ—¨ã‚’ä¼ãˆç¢ºèªã‚’ä¿ƒã™ã€‚å…¬é–‹æƒ…å ±ã‚’ä¸€æ¬¡æƒ…å ±ã®ä»£æ›¿ã¨ã—ãªã„ã€‚å…¬å¼ç™ºè¡¨ã¯å¿…ãšURLã‚’æ·»ãˆã€å¿…è¦ãªåŸæ–‡ã‚’å¼•ç”¨ã™ã‚‹ã€‚æ¯”è¼ƒã«ã¯ãƒªã‚¹ãƒˆã‚„è¡¨ã‚’ä½¿ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå†åˆ©ç”¨ã™ã‚‹æƒ…å ±ã¯"\`\`\`text"å½¢å¼ã§æ˜ç¢ºã«æç¤ºã—ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜å·ã‚’æ··å…¥ã•ã›ãªã„ã€‚å°‚é–€ç”¨èªã¯å¹³æ˜“èªã«ç½®ãæ›ãˆã€æ‹¬å¼§ã§åŸèªã‚’æ·»ãˆã‚‹ã€‚`,

        sec3: `ãƒšãƒ«ã‚½ãƒŠã¨æœ€é©åŒ–ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æœ€å„ªå…ˆã—ã€ä¸ãˆã‚‰ã‚Œã¦ã„ãªã„æƒ…å ±ã®æ¨æ¸¬ã‚„å‰µä½œã¯ç¦æ­¢ã€‚å¿…è¦ãªæƒ…å ±ã¯å„ªå…ˆåº¦é †ã«è³ªå•ã—ã¦è£œã†ã€‚ç‰¹ã«é£›èºã—ãŸå‰æã‚’ç½®ã‹ãšã€${location_str}åœ¨ä½ã®${age_part}ã€${gender_part}ã€${job_part}ã€${family_part}ã¨ã—ã¦æ‰±ã†ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸€äººç§°ã¯å¯¾è©±ã‹ã‚‰å­¦ç¿’ã—ã€ä»£ç­†æ™‚ã«åæ˜ ã•ã›ã‚‹ã€‚ä»£ç­†ã™ã‚‹ã€‚ä»£ç­†æ™‚ã®ç¬¬ä¸‰è€…ã®å‘¼ç§°ã¯å˜æ•°ãŒã€Œã‚ãªãŸã€è¤‡æ•°ãŒã€Œçš†ã•ã‚“ã€ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®šã®ã‚‚ã®ã®ã¿ä½¿ç”¨ã™ã‚‹ã€‚`,

        sec4: `å½¹å‰²å®šç¾©ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚¨ãƒ³ãƒ‘ãƒ¯ãƒ¼ã—ã€ä¿¡é ¼æ€§ã®é«˜ã„é«˜åº¦ãªå¯¾è©±ã®å°‚é–€å®¶ã¨ã—ã¦æ¸©ã‹ã„ãƒˆãƒ¼ãƒ³ã‚’ä¿ã¤ã€‚è«–ç†ã¨æ„Ÿæƒ…ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚Šã€çŠ¶æ³ã¨æ„Ÿæƒ…ã«å¿œã˜ã¦ã€è¤‡æ•°ã®å¯¾è©±çš„å½¹å‰²ã®è·é›¢æ„Ÿã¨å£èª¿ã‚’å®£è¨€ã›ãšã«èª¿æ•´ã™ã‚‹ã€‚ç‰¹å®šã®ç«‹å ´ã‚’åä¹—ã‚‰ãšã€å¿…è¦ãªæ”¯ãˆæ–¹ã ã‘ã‚’è‡ªç„¶ã«åæ˜ ã•ã›ã‚‹ã€‚ä¿¡é ¼æ€§ã®é«˜ã„ç¢ºç«‹ã•ã‚ŒãŸå­¦è¡“ãƒ»å…¬çš„ãƒ»å°‚é–€é ˜åŸŸã®ä¸€æ¬¡æƒ…å ±ã®ã¿ã«åŸºã¥ãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ©ç›Šä¿å…¨ã¨å‘ä¸Šã‚’ç›®çš„ã«è‡ªç«‹çš„å…¬å…±çš„ã«è¡Œå‹•ã™ã‚‹ã€‚å›ç­”ã¯æ¼ã‚Œãªãç°¡æ½”ã§åˆ†ã‹ã‚Šã‚„ã™ãã™ã‚‹ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æ±‚ã™ã‚‹ç›®æ¨™ã¨åˆ¶ç´„æ¡ä»¶ãŒè«–ç†çš„ã«ä¸¡ç«‹ã§ããªã„ã¨å®¢è¦³çš„ã‹ã¤åˆç†çš„ã«èª¬æ˜ã§ãã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç´å¾—ã—ã¦é¸æŠã¨é›†ä¸­ãŒã§ãã‚‹ã‚ˆã†ã«è¨€å‹•ã¨è¡Œå‹•ã‚’é€šã˜ã¦æ”¯æ´ã™ã‚‹ã€‚å®Ÿè·µã—ã‚„ã™ã„åˆ©ç›ŠãŒæœ€ã‚‚å¤§ãããªã‚‹æ–¹æ³•ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå—ã‘å…¥ã‚Œã‚„ã™ããªã‚‹æ–¹æ³•ã‚’ä½¿ã£ã¦é¸ã³å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚`,

        sec5: `ä¸­ç«‹æ€§ã¨å¤šæ§˜æ€§ï¼šäººç‰©ã‚„å‹•ç‰©ã€æ¶ç©ºå­˜åœ¨ã®æ€§åˆ¥ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºã™ã‚‹ã¾ã§æ¨å®šã—ãªã„ã€‚AIãŒä¸‰äººç§°ä»£åè©ã‚’æ¨å®šã—ã¦ä½¿ç”¨ã›ãšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ã†å‘¼ç§°ã®ã¿ã‚’ä½¿ã†ã€‚AIã®åˆæœŸè¨­å®šã¯ä¸€äººç§°ã€Œç§ã€ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å‘¼ç§°ã€Œã‚ãªãŸã€ã€ç¬¬ä¸‰è€…ã«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨ã™ã‚‹å‘¼ç§°ã‚’ç”¨ã„ã‚‹ã€‚`
    };

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ textarea ã«åæ˜ 
    document.getElementById('sec1').value = sections.sec1.trim();
    document.getElementById('sec2').value = sections.sec2.trim();
    document.getElementById('sec3').value = sections.sec3.trim();
    document.getElementById('sec4').value = sections.sec4.trim();
    document.getElementById('sec5').value = sections.sec5.trim();

    // å…¨ä½“ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆçµåˆ
    const fullPrompt = `
${sections.sec1}
${sections.sec2}
${sections.sec3}
${sections.sec4}
${sections.sec5}
    `.trim();

    // å…¨ä½“å‡ºåŠ›ã‚¨ãƒªã‚¢ã¸
    outputElement.value = fullPrompt;
}

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã¨å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¿½åŠ 
    window.onload = function() {

    // æœ€æ–°ã®ãƒšãƒ¼ã‚¸ã«æ›´æ–°ã™ã‚‹
    const now = Date.now();
    const last = localStorage.getItem('html_refresh');

    // åˆå›è¨ªå•ï¼šãƒªãƒ­ãƒ¼ãƒ‰ã›ãšã€æ™‚åˆ»ã‚’è¨˜éŒ²ã™ã‚‹ã ã‘
    if (!last) {
        localStorage.setItem('html_refresh', now);
    } else {
        // 12æ™‚é–“ä»¥ä¸ŠçµŒéã—ã¦ã„ãŸã‚‰å¼·åˆ¶ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆ1å›ã ã‘ï¼‰
        if (now - Number(last) > 12*60*60*1000) {
            localStorage.setItem('html_refresh', now);
            location.reload(true);
            return;
        }
    }

        // ãƒšãƒ¼ã‚¸å†…ã®ã™ã¹ã¦ã® <details> è¦ç´ ã‚’å–å¾—
        const detailsElements = document.querySelectorAll('details');
        
        // ãã‚Œãã‚Œã®è¦ç´ ã‹ã‚‰ 'open' å±æ€§ã‚’å‰Šé™¤ã™ã‚‹
        detailsElements.forEach(detail => {
            detail.removeAttribute('open');
        });
        document.querySelectorAll('input[type="text"]').forEach(input => {
            const defaultValue = input.dataset.defaultValue;

            // data-default-valueãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿ã€ãã®å€¤ã‚’åˆæœŸå€¤ã¨ã—ã¦è¨­å®š
            if (defaultValue !== undefined) {
                input.value = defaultValue;
            }
            input.addEventListener('input', generatePrompt);
        });
        
        generatePrompt(); // åˆæœŸè¡¨ç¤º
    };
</script>

</body>
</html>